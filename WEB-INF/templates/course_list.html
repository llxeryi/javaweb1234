<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>课程列表</title>
  <link rel="stylesheet" th:href="@{/static/css/index_work.css}">
</head>

<body>
<h1></h1>
<a href="http://localhost:9999/web002/" style="color:#5bc70d;  float: right; ">退出</a>
<br>
<div id="app">
<table>
  <tr>
    <th colspan="6">课程列表</th>
  </tr>
  <tr>
    <th>课程图像</th>
    <th>课程号</th>
    <th>课程名称</th>
    <th>课时数</th>
    <th>开设学院</th>

    <th>options（<a th:href="@{/to/add}">添加新的课程</a>）</th>
  </tr>
  <tr th:each="course : ${list}">
    <td >
      <img alt="" width="250" height="250" th:src="${course.image}"/>
    </td>
    <td th:text="${course.cId}"></td>
    <td th:text="${course.name}"></td>
    <td th:text="${course.hours}"></td>
    <td th:text="${course.schools}"></td>
    <td>
      <a th:href="@{'/course/'+${course.cId}}" onclick="return deleteCourse()">删除</a>
<!--      <a @click="deleteCourse()" th:href="@{'/course/'+${course.cId}}">删除</a>-->
      <a th:href="@{'/course/'+${course.cId}}">修改</a>
    </td>
  </tr>
</table>
<!--<div style="text-align: center;">-->
<!--    <a th:if="${page.hasPreviousPage}" th:href="@{/employee/page/1}">首页</a>-->
<!--    <a th:if="${page.hasPreviousPage}" th:href="@{'/employee/page/'+${page.prePage}}">上一页</a>-->
<!--    <span th:each="num : ${page.navigatepageNums}">-->
<!--        <a th:if="${page.pageNum == num}" style="color: red;" th:href="@{'/employee/page/'+${num}}" th:text="'['+${num}+']'"></a>-->
<!--        <a th:if="${page.pageNum != num}" th:href="@{'/employee/page/'+${num}}" th:text="${num}"></a>-->
<!--    </span>-->
<!--    <a th:if="${page.hasNextPage}" th:href="@{'/employee/page/'+${page.nextPage}}">下一页</a>-->
<!--    <a th:if="${page.hasNextPage}" th:href="@{'/employee/page/'+${page.pages}}">末页</a>-->
</div>
<form method="post">
  <input type="hidden" name="_method" value="delete">
</form>


<!--<script type="text/javascript" th:src="@{/static/js/vue.js}"></script>-->
<!--<script type="text/javascript">-->
<!--  var vue = new Vue({-->
<!--    el:"#app",-->
<!--    methods:{-->
<!--      deleteCourse(){-->
<!--        //获取form表单-->
<!--        var form = document.getElementsByTagName("form")[0];-->
<!--        //将超链接的href属性值赋值给form表单的action属性-->
<!--        //event.target表示当前触发事件的标签-->
<!--        form.action = event.target.href;-->
<!--        //表单提交-->

<!--        form.submit();-->
<!--        //阻止超链接的默认行为-->
<!--        event.preventDefault();-->
<!--      }-->
<!--    }-->
<!--  });-->
<!--</script>-->
<script>
  function deleteCourse() {
    const r = confirm("确定删除此信息？");
    if (r) {
      var form = document.getElementsByTagName("form")[0];

      form.action = event.target.href;
      form.submit();
      event.preventDefault();
      alert("删除成功");
      return true;
    }
    return false;
  }
</script>
</body>
</html>